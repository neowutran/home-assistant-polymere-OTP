{"version":3,"sources":["webpack:///service_worker.js","webpack:///webpack/bootstrap 39a1240594e133bd29be?186e","webpack:///./src/service-worker/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","CACHE","INDEX_CACHE_URL","INDEX_ROUTES","CACHE_URLS","self","addEventListener","event","waitUntil","caches","open","then","cache","addAll","concat","path","request","url","substr","indexOf","includes","respondWith","match","cachedResponse","fetch","response","put","clone"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA;;;ADSM,SAASI,EAAQD,EAASH,GAE/B,YEhDD,IAAMW,GAAQ,OACRC,EAAkB,IAClBC,GAAgB,IAAK,WAAY,WAAY,OAAQ,cAAe,YACpD,YAAa,WAAY,WACzCC,GACJ,8BAOFC,MAAKC,iBAAiB,UAAW,SAAAC,GAK/BA,EAAMC,UACJC,OAAOC,KAAKT,GAAOU,KAAK,SAAAC,GFgDvB,MEhDgCA,GAAMC,OAAOT,EAAWU,OAAOZ,SAIpEG,KAAKC,iBAAiB,WAAY,SAAAC,MAQlCF,KAAKC,iBAAiB,UAAW,SAAAC,MAMjCF,KAAKC,iBAAiB,QAAS,SAAAC,GAC7B,GAAMQ,GAAOR,EAAMS,QAAQC,IAAIC,OAAOX,EAAMS,QAAQC,IAAIE,QAAQ,IAAK,GAIjEf,GAAWgB,SAASL,IACtBR,EAAMc,YACJZ,OAAOC,KAAKT,GAAOU,KAAK,SAAAC,GFgDvB,MEhDgCA,GAAMU,MAAMf,EAAMS,YAIlDb,EAAaiB,SAASL,IAI3BR,EAAMc,YACJZ,OAAOC,KAAKT,GAAOU,KAAK,SAAAC,GFgDvB,ME/CCA,GAAMU,MAAMpB,GAAiBS,KAAK,SAAAY,GFgDjC,ME/CCA,IAAkBC,MAAMjB,EAAMS,SAASL,KAAK,SAAAc,GAE1C,MADAb,GAAMc,IAAIxB,EAAiBuB,EAASE,SAC7BF","file":"service_worker.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!*************************************!*\\\n  !*** ./src/service-worker/index.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/* eslint-disable no-console */\n\tvar CACHE = '0.10';\n\tvar INDEX_CACHE_URL = '/';\n\tvar INDEX_ROUTES = ['/', '/logbook', '/history', '/map', '/devService', '/devState', '/devEvent', '/devInfo', '/states'];\n\tvar CACHE_URLS = ['/static/favicon-192x192.png'];\n\t\n\tif (false) {\n\t  console.log('Service Worker initialized.');\n\t}\n\t\n\tself.addEventListener('install', function (event) {\n\t  if (false) {\n\t    console.log('Service Worker installed.');\n\t  }\n\t\n\t  event.waitUntil(caches.open(CACHE).then(function (cache) {\n\t    return cache.addAll(CACHE_URLS.concat(INDEX_CACHE_URL));\n\t  }));\n\t});\n\t\n\tself.addEventListener('activate', function (event) {\n\t  if (false) {\n\t    console.log('Service Worker activated.');\n\t    // Force refresh service worker\n\t    event.waitUntil(global.clients.claim());\n\t  }\n\t});\n\t\n\tself.addEventListener('message', function (event) {\n\t  if (false) {\n\t    console.log('Message received', event.data);\n\t  }\n\t});\n\t\n\tself.addEventListener('fetch', function (event) {\n\t  var path = event.request.url.substr(event.request.url.indexOf('/', 8));\n\t\n\t  // TODO: do not cache requests to 3rd party hosts (or remove those calls)\n\t\n\t  if (CACHE_URLS.includes(path)) {\n\t    event.respondWith(caches.open(CACHE).then(function (cache) {\n\t      return cache.match(event.request);\n\t    }));\n\t  }\n\t\n\t  if (!INDEX_ROUTES.includes(path)) {\n\t    return;\n\t  }\n\t\n\t  event.respondWith(caches.open(CACHE).then(function (cache) {\n\t    return cache.match(INDEX_CACHE_URL).then(function (cachedResponse) {\n\t      return cachedResponse || fetch(event.request).then(function (response) {\n\t        cache.put(INDEX_CACHE_URL, response.clone());\n\t        return response;\n\t      });\n\t    });\n\t  }));\n\t});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** service_worker.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 39a1240594e133bd29be\n **/","/* eslint-disable no-console */\nconst CACHE = '0.10';\nconst INDEX_CACHE_URL = '/';\nconst INDEX_ROUTES = ['/', '/logbook', '/history', '/map', '/devService', '/devState',\n                      '/devEvent', '/devInfo', '/states'];\nconst CACHE_URLS = [\n  '/static/favicon-192x192.png',\n];\n\nif (__DEV__) {\n  console.log('Service Worker initialized.');\n}\n\nself.addEventListener('install', event => {\n  if (__DEV__) {\n    console.log('Service Worker installed.');\n  }\n\n  event.waitUntil(\n    caches.open(CACHE).then(cache => cache.addAll(CACHE_URLS.concat(INDEX_CACHE_URL)))\n  );\n});\n\nself.addEventListener('activate', event => {\n  if (__DEV__) {\n    console.log('Service Worker activated.');\n    // Force refresh service worker\n    event.waitUntil(global.clients.claim());\n  }\n});\n\nself.addEventListener('message', event => {\n  if (__DEV__) {\n    console.log('Message received', event.data);\n  }\n});\n\nself.addEventListener('fetch', event => {\n  const path = event.request.url.substr(event.request.url.indexOf('/', 8));\n\n  // TODO: do not cache requests to 3rd party hosts (or remove those calls)\n\n  if (CACHE_URLS.includes(path)) {\n    event.respondWith(\n      caches.open(CACHE).then(cache => cache.match(event.request))\n    );\n  }\n\n  if (!INDEX_ROUTES.includes(path)) {\n    return;\n  }\n\n  event.respondWith(\n    caches.open(CACHE).then(cache =>\n      cache.match(INDEX_CACHE_URL).then(cachedResponse =>\n        cachedResponse || fetch(event.request).then(response => {\n          cache.put(INDEX_CACHE_URL, response.clone());\n          return response;\n        })\n      )\n    )\n  );\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/service-worker/index.js\n **/"],"sourceRoot":""}